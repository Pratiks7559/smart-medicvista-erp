{% extends 'base.html' %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/supplier_select.css' %}">
{% endblock %}

{% block content %}
<div class="supplier-select-container">
    <div class="supplier-select-card">
        <h2 class="supplier-select-title">
            <i class="fas fa-book"></i> Supplier Ledger
        </h2>
        
        <div class="supplier-search-wrapper">
            <input type="text" id="searchSupplier" placeholder="Search supplier..." class="supplier-search-input">
        </div>
        
        <div class="suppliers-grid">
            {% for supplier in suppliers %}
            <a href="{% url 'supplier_ledger_detail' supplier.supplierid %}" class="supplier-card">
                <div class="supplier-card-content">
                    <div class="supplier-avatar">
                        {{ supplier.supplier_name|first|upper }}
                    </div>
                    <div class="supplier-info">
                        <h4 class="supplier-name">{{ supplier.supplier_name }}</h4>
                        <p class="supplier-contact">
                            <i class="fas fa-phone"></i> {{ supplier.supplier_mobile|default:"N/A" }}
                        </p>
                    </div>
                    <i class="fas fa-chevron-right supplier-arrow"></i>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</div>

<script>
document.getElementById('searchSupplier').addEventListener('input', function(e) {
    const search = e.target.value.toLowerCase();
    document.querySelectorAll('.supplier-card').forEach(card => {
        const text = card.textContent.toLowerCase();
        card.style.display = text.includes(search) ? 'block' : 'none';
    });
});
</script>
{% endblock %}
